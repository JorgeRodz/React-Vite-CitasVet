import{j as S,r as n,s as k,R as C,a as L}from"./vendor.7cf9fbb3.js";const D=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&d(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function d(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}};D();const e=S.exports.jsx,a=S.exports.jsxs,P=S.exports.Fragment,O=()=>a("h1",{className:"font-black text-5xl text-center mx-auto md:w-2/3",children:["\u{1F415}\uFE0F Seguimiento Pacientes"," ",e("span",{className:"text-blue-600",children:"Veterinaria \u{1F469}\u200D\u2695\uFE0F"})]}),R=({children:o})=>e("div",{className:"bg-red-100 border border-red-400 text-red-700 py-1 rounded relative text-center mb-3 animate-fade-in-down",role:"alert",children:o}),I=({pacientes:o,setPacientes:c,paciente:t,setPaciente:d})=>{const[r,l]=n.exports.useState(""),[s,u]=n.exports.useState(""),[f,h]=n.exports.useState(""),[b,g]=n.exports.useState(""),[x,N]=n.exports.useState(""),[E,y]=n.exports.useState(!1),[z,F]=n.exports.useState("");n.exports.useEffect(()=>{Object.keys(t).length>0&&(l(t.nombreMascota),u(t.propietario),h(t.email),g(t.fechaAlta),N(t.sintomas))},[t]),n.exports.useEffect(()=>{},[]);const A=()=>{const i=Math.random().toString(36).substring(2),m=Date.now().toString(36);return i+m},M=i=>{const[m,v,p]=i.split("-"),w=new Date;return m<w.getFullYear()||v<w.getMonth()+1||p<=w.getDate()},j=i=>{if(i.preventDefault(),[r,s,f,b,x].includes("")){F("Todos los campos son obligatorios"),y(!0);return}if(M(b)){F("La Fecha debe ser posterior al dia de hoy"),y(!0);return}y(!1);const m={nombreMascota:r,propietario:s,email:f,fechaAlta:b,sintomas:x};if(t.id){m.id=t.id;const v=o.map(p=>p.id===t.id?m:p);c(v),d({})}else m.id=A(),c([m,...o]);l(""),u(""),h(""),g(""),N("")};return a("div",{className:"md:w-1/2 lg:w-2/5",children:[e("h2",{className:"font-black text-3xl text-center",children:"Seguimiento Pacientes"}),a("p",{className:"text-lg mt-5 text-center mb-6",children:["A\xF1ade Pacientes y"," ",e("span",{className:"text-blue-600 font-bold",children:"Administralos"})]}),a("form",{className:t.id?"bg-white border-2 border-green-400 shadow-2xl rounded-2xl py-7 px-5 mx-3":E?"bg-white border-2 border-red-300 shadow-2xl rounded-2xl py-7 px-5 mx-3":"bg-white shadow-2xl rounded-2xl py-7 px-5 mx-3",onSubmit:j,children:[E&&e(R,{children:e("strong",{className:"font-bold",children:z})}),a("div",{className:"mb-5",children:[e("label",{className:"block text-gray-700 capitalize font-bold",htmlFor:"mascota",children:"Nombre Mascota"}),e("input",{className:t.id?"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400":"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",type:"text",id:"mascota",placeholder:"Nombre de la Mascota",value:r,onChange:i=>l(i.target.value)})]}),a("div",{className:"mb-5",children:[e("label",{className:"block text-gray-700 capitalize font-bold",htmlFor:"propietario",children:"Nombre Propietario"}),e("input",{className:t.id?"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400":"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",type:"text",id:"propietario",placeholder:"Nombre del Propietario",value:s,onChange:i=>u(i.target.value)})]}),a("div",{className:"mb-5",children:[e("label",{className:"block text-gray-700 capitalize font-bold",htmlFor:"email",children:"Email"}),e("input",{className:t.id?"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400":"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",type:"email",id:"email",placeholder:"Email Contacto Propietario",value:f,onChange:i=>h(i.target.value)})]}),a("div",{className:"mb-5",children:[e("label",{className:"block text-gray-700 capitalize font-bold",htmlFor:"fechaAlta",children:"Fecha de Alta"}),e("input",{className:t.id?"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400":"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",type:"date",id:"fechaAlta",value:b,onChange:i=>g(i.target.value)})]}),a("div",{className:"mb-5",children:[e("label",{className:"block text-gray-700 capitalize font-bold",htmlFor:"sintomas",children:"Sintomas"}),e("textarea",{className:t.id?"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400":"border-2 w-full p-2 mt-2 placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",id:"sintomas",placeholder:"Describe los sintomas",value:x,onChange:i=>N(i.target.value)})]}),e("input",{className:"bg-blue-600 hover:bg-blue-700 transition-all duration-150  hover:shadow-xl hover:-translate-y-0.5 transform block min-w-min my-0 mx-auto py-3 px-6 text-white uppercase font-bold rounded-3xl cursor-pointer",type:"submit",value:t.id?"Guardar Nuevos Cambios":"Agregar paciente"})]})]})},B=({paciente:o,setPaciente:c,eliminarPaciente:t,appPacienteState:d})=>{const[r,l]=n.exports.useState(!1),s=n.exports.useRef();n.exports.useEffect(()=>{Object.keys(d).length>0?(s.current.disabled=!0,l(!0)):(s.current.disabled=!1,l(!1))},[d]);const u=()=>{k({title:"Estas seguro de eliminar el registro?",icon:"warning",buttons:["Cancelar","Si, eliminar"],dangerMode:!0}).then(f=>{f&&(t(o.id),k("Registro eliminado",{icon:"success"}))})};return a("div",{className:"bg-white shadow-xl px-5 py-5 rounded-xl mb-6",children:[a("p",{className:"font-bold mb-2 text-blue-400 capitalize",children:["Nombre:"," ",e("span",{className:"normal-case font-normal text-black",children:o.nombreMascota})]}),a("p",{className:"font-bold mb-2 text-blue-400 capitalize",children:["Propietario:"," ",e("span",{className:"normal-case font-normal text-black",children:o.propietario})]}),a("p",{className:"font-bold mb-2 text-blue-400 capitalize",children:["Email:"," ",e("span",{className:"normal-case font-normal text-black",children:o.email})]}),a("p",{className:"font-bold mb-2 text-blue-400 capitalize",children:["Fecha Alta:"," ",e("span",{className:"normal-case font-normal text-black",children:o.fechaAlta})]}),a("p",{className:"font-bold mb-2 text-blue-400 capitalize",children:["Sintomas:"," ",e("span",{className:"normal-case font-normal text-black",children:o.sintomas})]}),a("div",{className:"flex justify-evenly mt-5",children:[e("button",{type:"button",className:"bg-green-600 hover:bg-green-700 transition-all duration-150  hover:shadow-xl hover:-translate-y-0.5 transform py-1 px-8 text-white capitalize font-bold rounded-lg cursor-pointer",onClick:()=>c(o),children:"Editar"}),e("button",{type:"button",className:r?"btn-eliminar bg-gray-500 py-1 px-8 text-white capitalize font-bold rounded-lg":"btn-eliminar bg-red-600 hover:bg-red-700 transition-all duration-150  hover:shadow-xl hover:-translate-y-0.5 transform py-1 px-8 text-white capitalize font-bold rounded-lg cursor-pointer",ref:s,onClick:u,children:"Eliminar"})]})]})},J=({pacientes:o,setPaciente:c,eliminarPaciente:t,appPacienteState:d})=>e("div",{className:"md:w-1/2 lg:w-3/5 overflow-y-scroll md:h-screen mt-16 md:mt-0",children:o&&o.length?a(P,{children:[e("h2",{className:"font-black text-3xl text-center",children:"Listado Pacientes"}),a("p",{className:"text-xl mt-5 mb-6 text-center",children:["Administra tus"," ",e("span",{className:"text-blue-600 font-bold",children:"Pacientes y Citas"})]}),o.map(r=>e(B,{paciente:r,setPaciente:c,eliminarPaciente:t,appPacienteState:d},r.id))]}):a(P,{children:[e("h2",{className:"font-black text-3xl text-center",children:"No hay pacientes Pacientes"}),a("p",{className:"text-xl mt-5 mb-6 text-center",children:["Comienza agregando pacientes"," ",e("span",{className:"text-blue-600 font-bold",children:"y aparecer\xE1n en este lugar"})]})]})});function q(){const[o,c]=n.exports.useState([]),[t,d]=n.exports.useState({});return n.exports.useEffect(()=>{(()=>{var u;const s=(u=JSON.parse(localStorage.getItem("pacientes")))!=null?u:[];c(s)})()},[]),n.exports.useEffect(()=>{localStorage.setItem("pacientes",JSON.stringify(o))},[o]),a("div",{className:"container mx-auto mt-14 px-3",children:[e(O,{}),a("div",{className:"mt-12 md:flex",children:[e(I,{pacientes:o,setPacientes:c,paciente:t,setPaciente:d}),e(J,{pacientes:o,setPaciente:d,eliminarPaciente:l=>{const s=o.filter(u=>u.id!==l);c(s)},appPacienteState:t})]})]})}C.render(e(L.StrictMode,{children:e(q,{})}),document.getElementById("root"));
